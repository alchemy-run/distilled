// ==========================================================================
// Public Certificate Authority API (publicca v1)
// DO NOT EDIT - Generated from GCP Discovery Document
// ==========================================================================

import * as Schema from "effect/Schema";
import * as API from "../client/api.ts";
import * as T from "../traits.ts";
import * as C from "../category.ts";
import type { GCPAuth } from "../auth.ts";
import type { CommonErrors } from "../errors.ts";
import type * as HttpClient from "effect/unstable/http/HttpClient";

// Service metadata
const svc = T.Service({
  name: "publicca",
  version: "v1",
  rootUrl: "https://publicca.googleapis.com/",
  servicePath: "",
});

// ==========================================================================
// Schemas
// ==========================================================================

export interface ExternalAccountKey {
  /** Output only. Resource name. projects/{project}/locations/{location}/externalAccountKeys/{key_id} */
  name?: string;
  /** Output only. Key ID. It is generated by the PublicCertificateAuthorityService when the ExternalAccountKey is created */
  keyId?: string;
  /** Output only. Base64-URL-encoded HS256 key. It is generated by the PublicCertificateAuthorityService when the ExternalAccountKey is created */
  b64MacKey?: string;
}

export const ExternalAccountKey: Schema.Schema<ExternalAccountKey> = Schema.suspend(() => Schema.Struct({
  name: Schema.optional(Schema.String),
  keyId: Schema.optional(Schema.String),
  b64MacKey: Schema.optional(Schema.String),
})).annotate({ identifier: "ExternalAccountKey" }) as any as Schema.Schema<ExternalAccountKey>;

// ==========================================================================
// Operations
// ==========================================================================

/** Creates a new ExternalAccountKey bound to the project. */
export interface CreateProjectsLocationsExternalAccountKeysRequest {
  /** Required. The parent resource where this external_account_key will be created. Format: projects/[project_id]/locations/[location]. At present only the "global" location is supported. */
  parent: string;
  /** Request body */
  body?: ExternalAccountKey;
}

export const CreateProjectsLocationsExternalAccountKeysRequest = Schema.Struct({
  parent: Schema.String.pipe(T.HttpPath("parent")),
  body: Schema.optional(ExternalAccountKey).pipe(T.HttpBody()),
}).pipe(
  T.Http({ method: "POST", path: "v1/projects/{projectsId}/locations/{locationsId}/externalAccountKeys", hasBody: true }),
  svc,
) as unknown as Schema.Schema<CreateProjectsLocationsExternalAccountKeysRequest>;

export type CreateProjectsLocationsExternalAccountKeysResponse = ExternalAccountKey;
export const CreateProjectsLocationsExternalAccountKeysResponse = ExternalAccountKey;

export type CreateProjectsLocationsExternalAccountKeysError = CommonErrors;

export const createProjectsLocationsExternalAccountKeys: API.OperationMethod<CreateProjectsLocationsExternalAccountKeysRequest, CreateProjectsLocationsExternalAccountKeysResponse, CreateProjectsLocationsExternalAccountKeysError, GCPAuth | HttpClient.HttpClient> = API.make(() => ({
  input: CreateProjectsLocationsExternalAccountKeysRequest,
  output: CreateProjectsLocationsExternalAccountKeysResponse,
  errors: [],
}));

