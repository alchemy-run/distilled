// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`JSON Schema Generation > Edge Cases > Reservation - deeply nested optional chains 1`] = `
{
  "additionalProperties": false,
  "properties": {
    "NextToken": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Reservations": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "Groups": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Arrays_1",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Instances": {
                "anyOf": [
                  {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "AmiLaunchIndex": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/Number_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Architecture": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "BlockDeviceMappings": {
                          "anyOf": [
                            {
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "DeviceName": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "Ebs": {
                                    "anyOf": [
                                      {
                                        "additionalProperties": false,
                                        "properties": {
                                          "AssociatedResource": {
                                            "anyOf": [
                                              {
                                                "$ref": "#/definitions/String_",
                                              },
                                              {
                                                "$ref": "#/definitions/Undefined_",
                                              },
                                            ],
                                          },
                                          "AttachTime": {
                                            "anyOf": [
                                              {
                                                "$ref": "#/definitions/String_",
                                              },
                                              {
                                                "$ref": "#/definitions/Undefined_",
                                              },
                                            ],
                                          },
                                          "DeleteOnTermination": {
                                            "anyOf": [
                                              {
                                                "$ref": "#/definitions/Boolean_",
                                              },
                                              {
                                                "$ref": "#/definitions/Undefined_",
                                              },
                                            ],
                                          },
                                          "Operator": {
                                            "anyOf": [
                                              {
                                                "$ref": "#/definitions/OperatorResponse1",
                                              },
                                              {
                                                "$ref": "#/definitions/Undefined_",
                                              },
                                            ],
                                          },
                                          "Status": {
                                            "anyOf": [
                                              {
                                                "$ref": "#/definitions/String_",
                                              },
                                              {
                                                "$ref": "#/definitions/Undefined_",
                                              },
                                            ],
                                          },
                                          "VolumeId": {
                                            "anyOf": [
                                              {
                                                "$ref": "#/definitions/String_",
                                              },
                                              {
                                                "$ref": "#/definitions/Undefined_",
                                              },
                                            ],
                                          },
                                          "VolumeOwnerId": {
                                            "anyOf": [
                                              {
                                                "$ref": "#/definitions/String_",
                                              },
                                              {
                                                "$ref": "#/definitions/Undefined_",
                                              },
                                            ],
                                          },
                                        },
                                        "type": "object",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                },
                                "type": "object",
                              },
                              "type": "array",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "BootMode": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "CapacityBlockId": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "CapacityReservationId": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "CapacityReservationSpecification": {
                          "anyOf": [
                            {
                              "additionalProperties": false,
                              "properties": {
                                "CapacityReservationPreference": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "CapacityReservationTarget": {
                                  "anyOf": [
                                    {
                                      "additionalProperties": false,
                                      "properties": {
                                        "CapacityReservationId": {
                                          "anyOf": [
                                            {
                                              "$ref": "#/definitions/String_",
                                            },
                                            {
                                              "$ref": "#/definitions/Undefined_",
                                            },
                                          ],
                                        },
                                        "CapacityReservationResourceGroupArn": {
                                          "anyOf": [
                                            {
                                              "$ref": "#/definitions/String_",
                                            },
                                            {
                                              "$ref": "#/definitions/Undefined_",
                                            },
                                          ],
                                        },
                                      },
                                      "type": "object",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                              },
                              "type": "object",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "ClientToken": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "CpuOptions": {
                          "anyOf": [
                            {
                              "additionalProperties": false,
                              "properties": {
                                "AmdSevSnp": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "CoreCount": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/Number_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "ThreadsPerCore": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/Number_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                              },
                              "type": "object",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "CurrentInstanceBootMode": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "EbsOptimized": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/Boolean_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "ElasticGpuAssociations": {
                          "anyOf": [
                            {
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "ElasticGpuAssociationId": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "ElasticGpuAssociationState": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "ElasticGpuAssociationTime": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "ElasticGpuId": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                },
                                "type": "object",
                              },
                              "type": "array",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "ElasticInferenceAcceleratorAssociations": {
                          "anyOf": [
                            {
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "ElasticInferenceAcceleratorArn": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "ElasticInferenceAcceleratorAssociationId": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "ElasticInferenceAcceleratorAssociationState": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "ElasticInferenceAcceleratorAssociationTime": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                },
                                "type": "object",
                              },
                              "type": "array",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "EnaSupport": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/Boolean_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "EnclaveOptions": {
                          "anyOf": [
                            {
                              "additionalProperties": false,
                              "properties": {
                                "Enabled": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/Boolean_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                              },
                              "type": "object",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "HibernationOptions": {
                          "anyOf": [
                            {
                              "additionalProperties": false,
                              "properties": {
                                "Configured": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/Boolean_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                              },
                              "type": "object",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Hypervisor": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "IamInstanceProfile": {
                          "anyOf": [
                            {
                              "additionalProperties": false,
                              "properties": {
                                "Arn": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "Id": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                              },
                              "type": "object",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "ImageId": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "InstanceId": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "InstanceLifecycle": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "InstanceType": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Ipv6Address": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "KernelId": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "KeyName": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "LaunchTime": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Licenses": {
                          "anyOf": [
                            {
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "LicenseConfigurationArn": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                },
                                "type": "object",
                              },
                              "type": "array",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "MaintenanceOptions": {
                          "anyOf": [
                            {
                              "additionalProperties": false,
                              "properties": {
                                "AutoRecovery": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "RebootMigration": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                              },
                              "type": "object",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "MetadataOptions": {
                          "anyOf": [
                            {
                              "additionalProperties": false,
                              "properties": {
                                "HttpEndpoint": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "HttpProtocolIpv6": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "HttpPutResponseHopLimit": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/Number_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "HttpTokens": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "InstanceMetadataTags": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "State": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                              },
                              "type": "object",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Monitoring": {
                          "anyOf": [
                            {
                              "additionalProperties": false,
                              "properties": {
                                "State": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                              },
                              "type": "object",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "NetworkInterfaces": {
                          "anyOf": [
                            {
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "Association": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/InstanceNetworkInterfaceAssociation1",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "Attachment": {
                                    "anyOf": [
                                      {
                                        "additionalProperties": false,
                                        "properties": {
                                          "AttachTime": {
                                            "anyOf": [
                                              {
                                                "$ref": "#/definitions/String_",
                                              },
                                              {
                                                "$ref": "#/definitions/Undefined_",
                                              },
                                            ],
                                          },
                                          "AttachmentId": {
                                            "anyOf": [
                                              {
                                                "$ref": "#/definitions/String_",
                                              },
                                              {
                                                "$ref": "#/definitions/Undefined_",
                                              },
                                            ],
                                          },
                                          "DeleteOnTermination": {
                                            "anyOf": [
                                              {
                                                "$ref": "#/definitions/Boolean_",
                                              },
                                              {
                                                "$ref": "#/definitions/Undefined_",
                                              },
                                            ],
                                          },
                                          "DeviceIndex": {
                                            "anyOf": [
                                              {
                                                "$ref": "#/definitions/Number_",
                                              },
                                              {
                                                "$ref": "#/definitions/Undefined_",
                                              },
                                            ],
                                          },
                                          "EnaQueueCount": {
                                            "anyOf": [
                                              {
                                                "$ref": "#/definitions/Number_",
                                              },
                                              {
                                                "$ref": "#/definitions/Undefined_",
                                              },
                                            ],
                                          },
                                          "EnaSrdSpecification": {
                                            "anyOf": [
                                              {
                                                "additionalProperties": false,
                                                "properties": {
                                                  "EnaSrdEnabled": {
                                                    "anyOf": [
                                                      {
                                                        "$ref": "#/definitions/Boolean_",
                                                      },
                                                      {
                                                        "$ref": "#/definitions/Undefined_",
                                                      },
                                                    ],
                                                  },
                                                  "EnaSrdUdpSpecification": {
                                                    "anyOf": [
                                                      {
                                                        "additionalProperties": false,
                                                        "properties": {
                                                          "EnaSrdUdpEnabled": {
                                                            "anyOf": [
                                                              {
                                                                "$ref": "#/definitions/Boolean_",
                                                              },
                                                              {
                                                                "$ref": "#/definitions/Undefined_",
                                                              },
                                                            ],
                                                          },
                                                        },
                                                        "type": "object",
                                                      },
                                                      {
                                                        "$ref": "#/definitions/Undefined_",
                                                      },
                                                    ],
                                                  },
                                                },
                                                "type": "object",
                                              },
                                              {
                                                "$ref": "#/definitions/Undefined_",
                                              },
                                            ],
                                          },
                                          "NetworkCardIndex": {
                                            "anyOf": [
                                              {
                                                "$ref": "#/definitions/Number_",
                                              },
                                              {
                                                "$ref": "#/definitions/Undefined_",
                                              },
                                            ],
                                          },
                                          "Status": {
                                            "anyOf": [
                                              {
                                                "$ref": "#/definitions/String_",
                                              },
                                              {
                                                "$ref": "#/definitions/Undefined_",
                                              },
                                            ],
                                          },
                                        },
                                        "type": "object",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "ConnectionTrackingConfiguration": {
                                    "anyOf": [
                                      {
                                        "additionalProperties": false,
                                        "properties": {
                                          "TcpEstablishedTimeout": {
                                            "anyOf": [
                                              {
                                                "$ref": "#/definitions/Number_",
                                              },
                                              {
                                                "$ref": "#/definitions/Undefined_",
                                              },
                                            ],
                                          },
                                          "UdpStreamTimeout": {
                                            "anyOf": [
                                              {
                                                "$ref": "#/definitions/Number_",
                                              },
                                              {
                                                "$ref": "#/definitions/Undefined_",
                                              },
                                            ],
                                          },
                                          "UdpTimeout": {
                                            "anyOf": [
                                              {
                                                "$ref": "#/definitions/Number_",
                                              },
                                              {
                                                "$ref": "#/definitions/Undefined_",
                                              },
                                            ],
                                          },
                                        },
                                        "type": "object",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "Description": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "Groups": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/Arrays_1",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "InterfaceType": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "Ipv4Prefixes": {
                                    "anyOf": [
                                      {
                                        "items": {
                                          "additionalProperties": false,
                                          "properties": {
                                            "Ipv4Prefix": {
                                              "anyOf": [
                                                {
                                                  "$ref": "#/definitions/String_",
                                                },
                                                {
                                                  "$ref": "#/definitions/Undefined_",
                                                },
                                              ],
                                            },
                                          },
                                          "type": "object",
                                        },
                                        "type": "array",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "Ipv6Addresses": {
                                    "anyOf": [
                                      {
                                        "items": {
                                          "additionalProperties": false,
                                          "properties": {
                                            "Ipv6Address": {
                                              "anyOf": [
                                                {
                                                  "$ref": "#/definitions/String_",
                                                },
                                                {
                                                  "$ref": "#/definitions/Undefined_",
                                                },
                                              ],
                                            },
                                            "IsPrimaryIpv6": {
                                              "anyOf": [
                                                {
                                                  "$ref": "#/definitions/Boolean_",
                                                },
                                                {
                                                  "$ref": "#/definitions/Undefined_",
                                                },
                                              ],
                                            },
                                          },
                                          "type": "object",
                                        },
                                        "type": "array",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "Ipv6Prefixes": {
                                    "anyOf": [
                                      {
                                        "items": {
                                          "additionalProperties": false,
                                          "properties": {
                                            "Ipv6Prefix": {
                                              "anyOf": [
                                                {
                                                  "$ref": "#/definitions/String_",
                                                },
                                                {
                                                  "$ref": "#/definitions/Undefined_",
                                                },
                                              ],
                                            },
                                          },
                                          "type": "object",
                                        },
                                        "type": "array",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "MacAddress": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "NetworkInterfaceId": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "Operator": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/OperatorResponse1",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "OwnerId": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "PrivateDnsName": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "PrivateIpAddress": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "PrivateIpAddresses": {
                                    "anyOf": [
                                      {
                                        "items": {
                                          "additionalProperties": false,
                                          "properties": {
                                            "Association": {
                                              "anyOf": [
                                                {
                                                  "$ref": "#/definitions/InstanceNetworkInterfaceAssociation1",
                                                },
                                                {
                                                  "$ref": "#/definitions/Undefined_",
                                                },
                                              ],
                                            },
                                            "Primary": {
                                              "anyOf": [
                                                {
                                                  "$ref": "#/definitions/Boolean_",
                                                },
                                                {
                                                  "$ref": "#/definitions/Undefined_",
                                                },
                                              ],
                                            },
                                            "PrivateDnsName": {
                                              "anyOf": [
                                                {
                                                  "$ref": "#/definitions/String_",
                                                },
                                                {
                                                  "$ref": "#/definitions/Undefined_",
                                                },
                                              ],
                                            },
                                            "PrivateIpAddress": {
                                              "anyOf": [
                                                {
                                                  "$ref": "#/definitions/String_",
                                                },
                                                {
                                                  "$ref": "#/definitions/Undefined_",
                                                },
                                              ],
                                            },
                                          },
                                          "type": "object",
                                        },
                                        "type": "array",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "SourceDestCheck": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/Boolean_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "Status": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "SubnetId": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "VpcId": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                },
                                "type": "object",
                              },
                              "type": "array",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "NetworkPerformanceOptions": {
                          "anyOf": [
                            {
                              "additionalProperties": false,
                              "properties": {
                                "BandwidthWeighting": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                              },
                              "type": "object",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Operator": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/OperatorResponse1",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "OutpostArn": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Placement": {
                          "anyOf": [
                            {
                              "additionalProperties": false,
                              "properties": {
                                "Affinity": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "AvailabilityZone": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "AvailabilityZoneId": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "GroupId": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "GroupName": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "HostId": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "HostResourceGroupArn": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "PartitionNumber": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/Number_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "SpreadDomain": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "Tenancy": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                              },
                              "type": "object",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Platform": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "PlatformDetails": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "PrivateDnsName": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "PrivateDnsNameOptions": {
                          "anyOf": [
                            {
                              "additionalProperties": false,
                              "properties": {
                                "EnableResourceNameDnsAAAARecord": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/Boolean_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "EnableResourceNameDnsARecord": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/Boolean_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "HostnameType": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                              },
                              "type": "object",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "PrivateIpAddress": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "ProductCodes": {
                          "anyOf": [
                            {
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "ProductCodeId": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "ProductCodeType": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                },
                                "type": "object",
                              },
                              "type": "array",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "PublicDnsName": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "PublicIpAddress": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "RamdiskId": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "RootDeviceName": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "RootDeviceType": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "SecurityGroups": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/Arrays_1",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "SourceDestCheck": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/Boolean_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "SpotInstanceRequestId": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "SriovNetSupport": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "State": {
                          "anyOf": [
                            {
                              "additionalProperties": false,
                              "properties": {
                                "Code": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/Number_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "Name": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                              },
                              "type": "object",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "StateReason": {
                          "anyOf": [
                            {
                              "additionalProperties": false,
                              "properties": {
                                "Code": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "Message": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                              },
                              "type": "object",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "StateTransitionReason": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "SubnetId": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Tags": {
                          "anyOf": [
                            {
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "Key": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "Value": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                },
                                "type": "object",
                              },
                              "type": "array",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "TpmSupport": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "UsageOperation": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "UsageOperationUpdateTime": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "VirtualizationType": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "VpcId": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                      },
                      "type": "object",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "OwnerId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "RequesterId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ReservationId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "type": "object",
}
`;

exports[`JSON Schema Generation > Edge Cases > Reservation - deeply nested optional chains 2`] = `
{
  "additionalProperties": false,
  "properties": {
    "AmiLaunchIndex": {
      "anyOf": [
        {
          "$ref": "#/definitions/Number_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Architecture": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "BlockDeviceMappings": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "DeviceName": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Ebs": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "AssociatedResource": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "AttachTime": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "DeleteOnTermination": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Boolean_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "Operator": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/OperatorResponse1",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "Status": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "VolumeId": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "VolumeOwnerId": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "BootMode": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "CapacityBlockId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "CapacityReservationId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "CapacityReservationSpecification": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "CapacityReservationPreference": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "CapacityReservationTarget": {
              "anyOf": [
                {
                  "additionalProperties": false,
                  "properties": {
                    "CapacityReservationId": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/String_",
                        },
                        {
                          "$ref": "#/definitions/Undefined_",
                        },
                      ],
                    },
                    "CapacityReservationResourceGroupArn": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/String_",
                        },
                        {
                          "$ref": "#/definitions/Undefined_",
                        },
                      ],
                    },
                  },
                  "type": "object",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ClientToken": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "CpuOptions": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "AmdSevSnp": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "CoreCount": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Number_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "ThreadsPerCore": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Number_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "CurrentInstanceBootMode": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "EbsOptimized": {
      "anyOf": [
        {
          "$ref": "#/definitions/Boolean_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ElasticGpuAssociations": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "ElasticGpuAssociationId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ElasticGpuAssociationState": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ElasticGpuAssociationTime": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ElasticGpuId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ElasticInferenceAcceleratorAssociations": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "ElasticInferenceAcceleratorArn": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ElasticInferenceAcceleratorAssociationId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ElasticInferenceAcceleratorAssociationState": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ElasticInferenceAcceleratorAssociationTime": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "EnaSupport": {
      "anyOf": [
        {
          "$ref": "#/definitions/Boolean_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "EnclaveOptions": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "Enabled": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Boolean_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "HibernationOptions": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "Configured": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Boolean_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Hypervisor": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "IamInstanceProfile": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "Arn": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "Id": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ImageId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "InstanceId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "InstanceLifecycle": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "InstanceType": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Ipv6Address": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "KernelId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "KeyName": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "LaunchTime": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Licenses": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "LicenseConfigurationArn": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "MaintenanceOptions": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "AutoRecovery": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "RebootMigration": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "MetadataOptions": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "HttpEndpoint": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "HttpProtocolIpv6": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "HttpPutResponseHopLimit": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Number_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "HttpTokens": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "InstanceMetadataTags": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "State": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Monitoring": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "State": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "NetworkInterfaces": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "Association": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/InstanceNetworkInterfaceAssociation1",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Attachment": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "AttachTime": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "AttachmentId": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "DeleteOnTermination": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Boolean_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "DeviceIndex": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Number_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "EnaQueueCount": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Number_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "EnaSrdSpecification": {
                        "anyOf": [
                          {
                            "additionalProperties": false,
                            "properties": {
                              "EnaSrdEnabled": {
                                "anyOf": [
                                  {
                                    "$ref": "#/definitions/Boolean_",
                                  },
                                  {
                                    "$ref": "#/definitions/Undefined_",
                                  },
                                ],
                              },
                              "EnaSrdUdpSpecification": {
                                "anyOf": [
                                  {
                                    "additionalProperties": false,
                                    "properties": {
                                      "EnaSrdUdpEnabled": {
                                        "anyOf": [
                                          {
                                            "$ref": "#/definitions/Boolean_",
                                          },
                                          {
                                            "$ref": "#/definitions/Undefined_",
                                          },
                                        ],
                                      },
                                    },
                                    "type": "object",
                                  },
                                  {
                                    "$ref": "#/definitions/Undefined_",
                                  },
                                ],
                              },
                            },
                            "type": "object",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "NetworkCardIndex": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Number_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "Status": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ConnectionTrackingConfiguration": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "TcpEstablishedTimeout": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Number_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "UdpStreamTimeout": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Number_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "UdpTimeout": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Number_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Description": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Groups": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Arrays_4",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "InterfaceType": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Ipv4Prefixes": {
                "anyOf": [
                  {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "Ipv4Prefix": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                      },
                      "type": "object",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Ipv6Addresses": {
                "anyOf": [
                  {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "Ipv6Address": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "IsPrimaryIpv6": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/Boolean_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                      },
                      "type": "object",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Ipv6Prefixes": {
                "anyOf": [
                  {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "Ipv6Prefix": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                      },
                      "type": "object",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "MacAddress": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "NetworkInterfaceId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Operator": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/OperatorResponse1",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "OwnerId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "PrivateDnsName": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "PrivateIpAddress": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "PrivateIpAddresses": {
                "anyOf": [
                  {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "Association": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/InstanceNetworkInterfaceAssociation1",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Primary": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/Boolean_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "PrivateDnsName": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "PrivateIpAddress": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                      },
                      "type": "object",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "SourceDestCheck": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Boolean_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Status": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "SubnetId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "VpcId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "NetworkPerformanceOptions": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "BandwidthWeighting": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Operator": {
      "anyOf": [
        {
          "$ref": "#/definitions/OperatorResponse1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "OutpostArn": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Placement": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "Affinity": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "AvailabilityZone": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "AvailabilityZoneId": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "GroupId": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "GroupName": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "HostId": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "HostResourceGroupArn": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "PartitionNumber": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Number_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "SpreadDomain": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "Tenancy": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Platform": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "PlatformDetails": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "PrivateDnsName": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "PrivateDnsNameOptions": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "EnableResourceNameDnsAAAARecord": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Boolean_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "EnableResourceNameDnsARecord": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Boolean_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "HostnameType": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "PrivateIpAddress": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ProductCodes": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "ProductCodeId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ProductCodeType": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "PublicDnsName": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "PublicIpAddress": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "RamdiskId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "RootDeviceName": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "RootDeviceType": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "SecurityGroups": {
      "anyOf": [
        {
          "$ref": "#/definitions/Arrays_4",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "SourceDestCheck": {
      "anyOf": [
        {
          "$ref": "#/definitions/Boolean_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "SpotInstanceRequestId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "SriovNetSupport": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "State": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "Code": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Number_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "Name": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "StateReason": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "Code": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "Message": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "StateTransitionReason": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "SubnetId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Tags": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "Key": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Value": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "TpmSupport": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "UsageOperation": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "UsageOperationUpdateTime": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "VirtualizationType": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "VpcId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "type": "object",
}
`;

exports[`JSON Schema Generation > Edge Cases > Reservation - deeply nested optional chains 3`] = `
{
  "additionalProperties": false,
  "properties": {
    "Architectures": {
      "anyOf": [
        {
          "items": {
            "$ref": "#/definitions/String_",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "CapacityProviderConfig": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "LambdaManagedInstancesCapacityProviderConfig": {
              "additionalProperties": false,
              "properties": {
                "CapacityProviderArn": {
                  "$ref": "#/definitions/String_",
                },
                "ExecutionEnvironmentMemoryGiBPerVCpu": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/Number_",
                    },
                    {
                      "$ref": "#/definitions/Undefined_",
                    },
                  ],
                },
                "PerExecutionEnvironmentMaxConcurrency": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/Number_",
                    },
                    {
                      "$ref": "#/definitions/Undefined_",
                    },
                  ],
                },
              },
              "required": [
                "CapacityProviderArn",
              ],
              "type": "object",
            },
          },
          "required": [
            "LambdaManagedInstancesCapacityProviderConfig",
          ],
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Code": {
      "additionalProperties": false,
      "properties": {
        "ImageUri": {
          "anyOf": [
            {
              "$ref": "#/definitions/String_",
            },
            {
              "$ref": "#/definitions/Undefined_",
            },
          ],
        },
        "S3Bucket": {
          "anyOf": [
            {
              "$ref": "#/definitions/String_",
            },
            {
              "$ref": "#/definitions/Undefined_",
            },
          ],
        },
        "S3Key": {
          "anyOf": [
            {
              "$ref": "#/definitions/String_",
            },
            {
              "$ref": "#/definitions/Undefined_",
            },
          ],
        },
        "S3ObjectVersion": {
          "anyOf": [
            {
              "$ref": "#/definitions/String_",
            },
            {
              "$ref": "#/definitions/Undefined_",
            },
          ],
        },
        "SourceKMSKeyArn": {
          "anyOf": [
            {
              "$ref": "#/definitions/String_",
            },
            {
              "$ref": "#/definitions/Undefined_",
            },
          ],
        },
        "ZipFile": {
          "anyOf": [
            {
              "$ref": "#/definitions/String_",
            },
            {
              "$ref": "#/definitions/Undefined_",
            },
          ],
        },
      },
      "type": "object",
    },
    "CodeSigningConfigArn": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "DeadLetterConfig": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "TargetArn": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Description": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "DurableConfig": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "ExecutionTimeout": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Number_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "RetentionPeriodInDays": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Number_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Environment": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "Variables": {
              "anyOf": [
                {
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "$ref": "#/definitions/String_",
                      },
                      {
                        "$ref": "#/definitions/Undefined_",
                      },
                    ],
                  },
                  "type": "object",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "EphemeralStorage": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "Size": {
              "$ref": "#/definitions/Number_",
            },
          },
          "required": [
            "Size",
          ],
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "FileSystemConfigs": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "Arn": {
                "$ref": "#/definitions/String_",
              },
              "LocalMountPath": {
                "$ref": "#/definitions/String_",
              },
            },
            "required": [
              "Arn",
              "LocalMountPath",
            ],
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "FunctionName": {
      "$ref": "#/definitions/String_",
    },
    "Handler": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ImageConfig": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "Command": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Arrays_4",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "EntryPoint": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Arrays_4",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "WorkingDirectory": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "KMSKeyArn": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Layers": {
      "anyOf": [
        {
          "items": {
            "$ref": "#/definitions/String_",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "LoggingConfig": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "ApplicationLogLevel": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "LogFormat": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "LogGroup": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "SystemLogLevel": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "MemorySize": {
      "anyOf": [
        {
          "$ref": "#/definitions/Number_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "PackageType": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Publish": {
      "anyOf": [
        {
          "$ref": "#/definitions/Boolean_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "PublishTo": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Role": {
      "$ref": "#/definitions/String_",
    },
    "Runtime": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "SnapStart": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "ApplyOn": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Tags": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "$ref": "#/definitions/String_",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "TenancyConfig": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "TenantIsolationMode": {
              "$ref": "#/definitions/String_",
            },
          },
          "required": [
            "TenantIsolationMode",
          ],
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Timeout": {
      "anyOf": [
        {
          "$ref": "#/definitions/Number_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "TracingConfig": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "Mode": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "VpcConfig": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "Ipv6AllowedForDualStack": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Boolean_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "SecurityGroupIds": {
              "anyOf": [
                {
                  "items": {
                    "$ref": "#/definitions/String_",
                  },
                  "type": "array",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "SubnetIds": {
              "anyOf": [
                {
                  "items": {
                    "$ref": "#/definitions/String_",
                  },
                  "type": "array",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "required": [
    "FunctionName",
    "Role",
    "Code",
  ],
  "type": "object",
}
`;

exports[`JSON Schema Generation > Edge Cases > Reservation - deeply nested optional chains 4`] = `
{
  "anyOf": [
    {
      "type": "object",
    },
    {
      "type": "array",
    },
  ],
}
`;

exports[`JSON Schema Generation > Edge Cases > Reservation - deeply nested optional chains 5`] = `
{
  "additionalProperties": false,
  "properties": {
    "Groups": {
      "anyOf": [
        {
          "$ref": "#/definitions/Arrays_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Instances": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "AmiLaunchIndex": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Number_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Architecture": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "BlockDeviceMappings": {
                "anyOf": [
                  {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "DeviceName": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Ebs": {
                          "anyOf": [
                            {
                              "additionalProperties": false,
                              "properties": {
                                "AssociatedResource": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "AttachTime": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "DeleteOnTermination": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/Boolean_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "Operator": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/OperatorResponse1",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "Status": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "VolumeId": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "VolumeOwnerId": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                              },
                              "type": "object",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                      },
                      "type": "object",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "BootMode": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "CapacityBlockId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "CapacityReservationId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "CapacityReservationSpecification": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "CapacityReservationPreference": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "CapacityReservationTarget": {
                        "anyOf": [
                          {
                            "additionalProperties": false,
                            "properties": {
                              "CapacityReservationId": {
                                "anyOf": [
                                  {
                                    "$ref": "#/definitions/String_",
                                  },
                                  {
                                    "$ref": "#/definitions/Undefined_",
                                  },
                                ],
                              },
                              "CapacityReservationResourceGroupArn": {
                                "anyOf": [
                                  {
                                    "$ref": "#/definitions/String_",
                                  },
                                  {
                                    "$ref": "#/definitions/Undefined_",
                                  },
                                ],
                              },
                            },
                            "type": "object",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ClientToken": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "CpuOptions": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "AmdSevSnp": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "CoreCount": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Number_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "ThreadsPerCore": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Number_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "CurrentInstanceBootMode": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "EbsOptimized": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Boolean_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ElasticGpuAssociations": {
                "anyOf": [
                  {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "ElasticGpuAssociationId": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "ElasticGpuAssociationState": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "ElasticGpuAssociationTime": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "ElasticGpuId": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                      },
                      "type": "object",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ElasticInferenceAcceleratorAssociations": {
                "anyOf": [
                  {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "ElasticInferenceAcceleratorArn": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "ElasticInferenceAcceleratorAssociationId": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "ElasticInferenceAcceleratorAssociationState": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "ElasticInferenceAcceleratorAssociationTime": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                      },
                      "type": "object",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "EnaSupport": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Boolean_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "EnclaveOptions": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "Enabled": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Boolean_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "HibernationOptions": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "Configured": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Boolean_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Hypervisor": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "IamInstanceProfile": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "Arn": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "Id": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ImageId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "InstanceId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "InstanceLifecycle": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "InstanceType": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Ipv6Address": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "KernelId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "KeyName": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "LaunchTime": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Licenses": {
                "anyOf": [
                  {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "LicenseConfigurationArn": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                      },
                      "type": "object",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "MaintenanceOptions": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "AutoRecovery": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "RebootMigration": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "MetadataOptions": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "HttpEndpoint": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "HttpProtocolIpv6": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "HttpPutResponseHopLimit": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Number_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "HttpTokens": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "InstanceMetadataTags": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "State": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Monitoring": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "State": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "NetworkInterfaces": {
                "anyOf": [
                  {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "Association": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/InstanceNetworkInterfaceAssociation1",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Attachment": {
                          "anyOf": [
                            {
                              "additionalProperties": false,
                              "properties": {
                                "AttachTime": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "AttachmentId": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "DeleteOnTermination": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/Boolean_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "DeviceIndex": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/Number_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "EnaQueueCount": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/Number_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "EnaSrdSpecification": {
                                  "anyOf": [
                                    {
                                      "additionalProperties": false,
                                      "properties": {
                                        "EnaSrdEnabled": {
                                          "anyOf": [
                                            {
                                              "$ref": "#/definitions/Boolean_",
                                            },
                                            {
                                              "$ref": "#/definitions/Undefined_",
                                            },
                                          ],
                                        },
                                        "EnaSrdUdpSpecification": {
                                          "anyOf": [
                                            {
                                              "additionalProperties": false,
                                              "properties": {
                                                "EnaSrdUdpEnabled": {
                                                  "anyOf": [
                                                    {
                                                      "$ref": "#/definitions/Boolean_",
                                                    },
                                                    {
                                                      "$ref": "#/definitions/Undefined_",
                                                    },
                                                  ],
                                                },
                                              },
                                              "type": "object",
                                            },
                                            {
                                              "$ref": "#/definitions/Undefined_",
                                            },
                                          ],
                                        },
                                      },
                                      "type": "object",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "NetworkCardIndex": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/Number_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "Status": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/String_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                              },
                              "type": "object",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "ConnectionTrackingConfiguration": {
                          "anyOf": [
                            {
                              "additionalProperties": false,
                              "properties": {
                                "TcpEstablishedTimeout": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/Number_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "UdpStreamTimeout": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/Number_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                                "UdpTimeout": {
                                  "anyOf": [
                                    {
                                      "$ref": "#/definitions/Number_",
                                    },
                                    {
                                      "$ref": "#/definitions/Undefined_",
                                    },
                                  ],
                                },
                              },
                              "type": "object",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Description": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Groups": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/Arrays_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "InterfaceType": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Ipv4Prefixes": {
                          "anyOf": [
                            {
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "Ipv4Prefix": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                },
                                "type": "object",
                              },
                              "type": "array",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Ipv6Addresses": {
                          "anyOf": [
                            {
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "Ipv6Address": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "IsPrimaryIpv6": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/Boolean_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                },
                                "type": "object",
                              },
                              "type": "array",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Ipv6Prefixes": {
                          "anyOf": [
                            {
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "Ipv6Prefix": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                },
                                "type": "object",
                              },
                              "type": "array",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "MacAddress": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "NetworkInterfaceId": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Operator": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/OperatorResponse1",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "OwnerId": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "PrivateDnsName": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "PrivateIpAddress": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "PrivateIpAddresses": {
                          "anyOf": [
                            {
                              "items": {
                                "additionalProperties": false,
                                "properties": {
                                  "Association": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/InstanceNetworkInterfaceAssociation1",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "Primary": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/Boolean_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "PrivateDnsName": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                  "PrivateIpAddress": {
                                    "anyOf": [
                                      {
                                        "$ref": "#/definitions/String_",
                                      },
                                      {
                                        "$ref": "#/definitions/Undefined_",
                                      },
                                    ],
                                  },
                                },
                                "type": "object",
                              },
                              "type": "array",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "SourceDestCheck": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/Boolean_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Status": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "SubnetId": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "VpcId": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                      },
                      "type": "object",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "NetworkPerformanceOptions": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "BandwidthWeighting": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Operator": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/OperatorResponse1",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "OutpostArn": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Placement": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "Affinity": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "AvailabilityZone": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "AvailabilityZoneId": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "GroupId": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "GroupName": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "HostId": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "HostResourceGroupArn": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "PartitionNumber": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Number_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "SpreadDomain": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "Tenancy": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Platform": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "PlatformDetails": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "PrivateDnsName": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "PrivateDnsNameOptions": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "EnableResourceNameDnsAAAARecord": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Boolean_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "EnableResourceNameDnsARecord": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Boolean_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "HostnameType": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "PrivateIpAddress": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ProductCodes": {
                "anyOf": [
                  {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "ProductCodeId": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "ProductCodeType": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                      },
                      "type": "object",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "PublicDnsName": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "PublicIpAddress": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "RamdiskId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "RootDeviceName": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "RootDeviceType": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "SecurityGroups": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Arrays_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "SourceDestCheck": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Boolean_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "SpotInstanceRequestId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "SriovNetSupport": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "State": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "Code": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Number_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "Name": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "StateReason": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "Code": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "Message": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "StateTransitionReason": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "SubnetId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Tags": {
                "anyOf": [
                  {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "Key": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Value": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                      },
                      "type": "object",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "TpmSupport": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "UsageOperation": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "UsageOperationUpdateTime": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "VirtualizationType": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "VpcId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "OwnerId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "RequesterId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ReservationId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "type": "object",
}
`;

exports[`JSON Schema Generation > Error Schemas (TaggedError) > BucketAlreadyExists - S3 error 1`] = `
{
  "items": {
    "additionalProperties": false,
    "properties": {
      "ChecksumAlgorithm": {
        "anyOf": [
          {
            "items": {
              "$ref": "#/definitions/String_",
            },
            "type": "array",
          },
          {
            "$ref": "#/definitions/Undefined_",
          },
        ],
      },
      "ChecksumType": {
        "anyOf": [
          {
            "$ref": "#/definitions/String_",
          },
          {
            "$ref": "#/definitions/Undefined_",
          },
        ],
      },
      "ETag": {
        "anyOf": [
          {
            "$ref": "#/definitions/String_",
          },
          {
            "$ref": "#/definitions/Undefined_",
          },
        ],
      },
      "Key": {
        "anyOf": [
          {
            "$ref": "#/definitions/String_",
          },
          {
            "$ref": "#/definitions/Undefined_",
          },
        ],
      },
      "LastModified": {
        "anyOf": [
          {
            "$ref": "#/definitions/String_",
          },
          {
            "$ref": "#/definitions/Undefined_",
          },
        ],
      },
      "Owner": {
        "anyOf": [
          {
            "additionalProperties": false,
            "properties": {
              "DisplayName": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ID": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          {
            "$ref": "#/definitions/Undefined_",
          },
        ],
      },
      "RestoreStatus": {
        "anyOf": [
          {
            "additionalProperties": false,
            "properties": {
              "IsRestoreInProgress": {
                "anyOf": [
                  {
                    "type": "boolean",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "RestoreExpiryDate": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          {
            "$ref": "#/definitions/Undefined_",
          },
        ],
      },
      "Size": {
        "anyOf": [
          {
            "anyOf": [
              {
                "type": "number",
              },
              {
                "enum": [
                  "NaN",
                ],
                "type": "string",
              },
              {
                "enum": [
                  "Infinity",
                ],
                "type": "string",
              },
              {
                "enum": [
                  "-Infinity",
                ],
                "type": "string",
              },
            ],
          },
          {
            "$ref": "#/definitions/Undefined_",
          },
        ],
      },
      "StorageClass": {
        "anyOf": [
          {
            "$ref": "#/definitions/String_",
          },
          {
            "$ref": "#/definitions/Undefined_",
          },
        ],
      },
    },
    "type": "object",
  },
  "type": "array",
}
`;

exports[`JSON Schema Generation > Error Schemas (TaggedError) > BucketAlreadyExists - S3 error 2`] = `
{
  "additionalProperties": false,
  "properties": {
    "CommonPrefixes": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "Prefix": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Contents": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "ChecksumAlgorithm": {
                "anyOf": [
                  {
                    "items": {
                      "$ref": "#/definitions/String_",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ChecksumType": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ETag": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Key": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "LastModified": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Owner": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "DisplayName": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "ID": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "RestoreStatus": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "IsRestoreInProgress": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Boolean_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "RestoreExpiryDate": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Size": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Number_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "StorageClass": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ContinuationToken": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Delimiter": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "EncodingType": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "IsTruncated": {
      "anyOf": [
        {
          "$ref": "#/definitions/Boolean_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "KeyCount": {
      "anyOf": [
        {
          "$ref": "#/definitions/Number_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "MaxKeys": {
      "anyOf": [
        {
          "$ref": "#/definitions/Number_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Name": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "NextContinuationToken": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Prefix": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "RequestCharged": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "StartAfter": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "type": "object",
}
`;

exports[`JSON Schema Generation > Error Schemas (TaggedError) > BucketAlreadyExists - S3 error 3`] = `
{
  "additionalProperties": false,
  "properties": {
    "IsTruncated": {
      "anyOf": [
        {
          "type": "boolean",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Marker": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Users": {
      "items": {
        "additionalProperties": false,
        "properties": {
          "Arn": {
            "$ref": "#/definitions/String_",
          },
          "CreateDate": {
            "$ref": "#/definitions/String_",
          },
          "PasswordLastUsed": {
            "anyOf": [
              {
                "$ref": "#/definitions/String_",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "Path": {
            "$ref": "#/definitions/String_",
          },
          "PermissionsBoundary": {
            "anyOf": [
              {
                "additionalProperties": false,
                "properties": {
                  "PermissionsBoundaryArn": {
                    "anyOf": [
                      {
                        "$ref": "#/definitions/String_",
                      },
                      {
                        "$ref": "#/definitions/Undefined_",
                      },
                    ],
                  },
                  "PermissionsBoundaryType": {
                    "anyOf": [
                      {
                        "$ref": "#/definitions/String_",
                      },
                      {
                        "$ref": "#/definitions/Undefined_",
                      },
                    ],
                  },
                },
                "type": "object",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "Tags": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": false,
                  "properties": {
                    "Key": {
                      "$ref": "#/definitions/String_",
                    },
                    "Value": {
                      "$ref": "#/definitions/String_",
                    },
                  },
                  "required": [
                    "Key",
                    "Value",
                  ],
                  "type": "object",
                },
                "type": "array",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "UserId": {
            "$ref": "#/definitions/String_",
          },
          "UserName": {
            "$ref": "#/definitions/String_",
          },
        },
        "required": [
          "Path",
          "UserName",
          "UserId",
          "Arn",
          "CreateDate",
        ],
        "type": "object",
      },
      "type": "array",
    },
  },
  "required": [
    "Users",
  ],
  "type": "object",
}
`;

exports[`JSON Schema Generation > Error Schemas (TaggedError) > BucketAlreadyExists - S3 error 4`] = `
{
  "additionalProperties": false,
  "properties": {
    "_tag": {
      "enum": [
        "ResourceNotFoundException",
      ],
      "type": "string",
    },
    "message": {
      "anyOf": [
        {
          "type": "string",
        },
        {
          "type": "null",
        },
      ],
    },
  },
  "required": [
    "_tag",
  ],
  "type": "object",
}
`;

exports[`JSON Schema Generation > Error Schemas (TaggedError) > BucketAlreadyExists - S3 error 5`] = `
{
  "additionalProperties": false,
  "properties": {
    "_tag": {
      "enum": [
        "BucketAlreadyExists",
      ],
      "type": "string",
    },
  },
  "required": [
    "_tag",
  ],
  "type": "object",
}
`;

exports[`JSON Schema Generation > Map/Record Types > MessageAttributeMap - record with struct values 1`] = `
{
  "additionalProperties": false,
  "properties": {
    "ConsumedCapacity": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "CapacityUnits": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Number_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "GlobalSecondaryIndexes": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Objects_15",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "LocalSecondaryIndexes": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Objects_15",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "ReadCapacityUnits": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Number_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "Table": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Capacity",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "TableName": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "WriteCapacityUnits": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Number_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Item": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "$ref": "#/definitions/Union_2",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "type": "object",
}
`;

exports[`JSON Schema Generation > Map/Record Types > MessageAttributeMap - record with struct values 2`] = `
{
  "$ref": "#/definitions/Union_",
}
`;

exports[`JSON Schema Generation > Map/Record Types > MessageAttributeMap - record with struct values 3`] = `
{
  "additionalProperties": {
    "anyOf": [
      {
        "$ref": "#/definitions/Union_1",
      },
      {
        "$ref": "#/definitions/Undefined_",
      },
    ],
  },
  "type": "object",
}
`;

exports[`JSON Schema Generation > Map/Record Types > MessageAttributeMap - record with struct values 4`] = `
{
  "additionalProperties": false,
  "properties": {
    "AttributeValueList": {
      "anyOf": [
        {
          "items": {
            "$ref": "#/definitions/Union_1",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ComparisonOperator": {
      "$ref": "#/definitions/String_",
    },
  },
  "required": [
    "ComparisonOperator",
  ],
  "type": "object",
}
`;

exports[`JSON Schema Generation > Map/Record Types > MessageAttributeMap - record with struct values 5`] = `
{
  "additionalProperties": {
    "anyOf": [
      {
        "additionalProperties": false,
        "properties": {
          "BinaryValue": {
            "anyOf": [
              {
                "$ref": "#/definitions/String_1",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "DataType": {
            "$ref": "#/definitions/String_1",
          },
          "StringValue": {
            "anyOf": [
              {
                "$ref": "#/definitions/String_1",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
        },
        "required": [
          "DataType",
        ],
        "type": "object",
      },
      {
        "$ref": "#/definitions/Undefined_",
      },
    ],
  },
  "type": "object",
}
`;

exports[`JSON Schema Generation > Protocol-Specific Schemas > awsJson1_0 (DynamoDB) > PutItemInput 1`] = `
{
  "additionalProperties": false,
  "properties": {
    "Buckets": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "BucketArn": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "BucketRegion": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "CreationDate": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Name": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ContinuationToken": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Owner": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "DisplayName": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "ID": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Prefix": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "type": "object",
}
`;

exports[`JSON Schema Generation > Protocol-Specific Schemas > awsJson1_0 (DynamoDB) > PutItemInput 2`] = `
{
  "additionalProperties": false,
  "properties": {
    "ACL": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Bucket": {
      "type": "string",
    },
    "BucketKeyEnabled": {
      "anyOf": [
        {
          "type": "boolean",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "CacheControl": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ChecksumAlgorithm": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ContentDisposition": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ContentEncoding": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ContentLanguage": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ContentType": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "CopySource": {
      "type": "string",
    },
    "CopySourceIfMatch": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "CopySourceIfModifiedSince": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "CopySourceIfNoneMatch": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "CopySourceIfUnmodifiedSince": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "CopySourceSSECustomerAlgorithm": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "CopySourceSSECustomerKey": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "CopySourceSSECustomerKeyMD5": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ExpectedBucketOwner": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ExpectedSourceBucketOwner": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Expires": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "GrantFullControl": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "GrantRead": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "GrantReadACP": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "GrantWriteACP": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "IfMatch": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "IfNoneMatch": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Key": {
      "type": "string",
    },
    "Metadata": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "$ref": "#/definitions/String_",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "MetadataDirective": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ObjectLockLegalHoldStatus": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ObjectLockMode": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ObjectLockRetainUntilDate": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "RequestPayer": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "SSECustomerAlgorithm": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "SSECustomerKey": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "SSECustomerKeyMD5": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "SSEKMSEncryptionContext": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "SSEKMSKeyId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ServerSideEncryption": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "StorageClass": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Tagging": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "TaggingDirective": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "WebsiteRedirectLocation": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "required": [
    "Bucket",
    "CopySource",
    "Key",
  ],
  "type": "object",
}
`;

exports[`JSON Schema Generation > Protocol-Specific Schemas > awsJson1_0 (DynamoDB) > PutItemInput 3`] = `
{
  "additionalProperties": false,
  "properties": {
    "AttributesToGet": {
      "anyOf": [
        {
          "items": {
            "$ref": "#/definitions/String_1",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ConditionalOperator": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ConsistentRead": {
      "anyOf": [
        {
          "$ref": "#/definitions/Boolean_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ExclusiveStartKey": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "$ref": "#/definitions/Union_8",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ExpressionAttributeNames": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "$ref": "#/definitions/String_1",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ExpressionAttributeValues": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "$ref": "#/definitions/Union_8",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "FilterExpression": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "IndexName": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "KeyConditionExpression": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "KeyConditions": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "$ref": "#/definitions/Condition",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Limit": {
      "anyOf": [
        {
          "anyOf": [
            {
              "type": "number",
            },
            {
              "enum": [
                "NaN",
              ],
              "type": "string",
            },
            {
              "enum": [
                "Infinity",
              ],
              "type": "string",
            },
            {
              "enum": [
                "-Infinity",
              ],
              "type": "string",
            },
          ],
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ProjectionExpression": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "QueryFilter": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "$ref": "#/definitions/Condition",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ReturnConsumedCapacity": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ScanIndexForward": {
      "anyOf": [
        {
          "$ref": "#/definitions/Boolean_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Select": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "TableName": {
      "type": "string",
    },
  },
  "required": [
    "TableName",
  ],
  "type": "object",
}
`;

exports[`JSON Schema Generation > Protocol-Specific Schemas > awsJson1_0 (DynamoDB) > PutItemInput 4`] = `
{
  "additionalProperties": false,
  "properties": {
    "AttributesToGet": {
      "anyOf": [
        {
          "items": {
            "$ref": "#/definitions/String_1",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ConditionalOperator": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ConsistentRead": {
      "anyOf": [
        {
          "$ref": "#/definitions/Boolean_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ExclusiveStartKey": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "$ref": "#/definitions/Union_7",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ExpressionAttributeNames": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "$ref": "#/definitions/String_1",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ExpressionAttributeValues": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "$ref": "#/definitions/Union_7",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "FilterExpression": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "IndexName": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Limit": {
      "anyOf": [
        {
          "$ref": "#/definitions/Number_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ProjectionExpression": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ReturnConsumedCapacity": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ScanFilter": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "additionalProperties": false,
                "properties": {
                  "AttributeValueList": {
                    "anyOf": [
                      {
                        "items": {
                          "$ref": "#/definitions/Union_7",
                        },
                        "type": "array",
                      },
                      {
                        "$ref": "#/definitions/Undefined_",
                      },
                    ],
                  },
                  "ComparisonOperator": {
                    "$ref": "#/definitions/String_1",
                  },
                },
                "required": [
                  "ComparisonOperator",
                ],
                "type": "object",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Segment": {
      "anyOf": [
        {
          "$ref": "#/definitions/Number_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Select": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "TableName": {
      "type": "string",
    },
    "TotalSegments": {
      "anyOf": [
        {
          "$ref": "#/definitions/Number_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "required": [
    "TableName",
  ],
  "type": "object",
}
`;

exports[`JSON Schema Generation > Protocol-Specific Schemas > awsJson1_0 (DynamoDB) > PutItemInput 5`] = `
{
  "additionalProperties": false,
  "properties": {
    "ConditionExpression": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ConditionalOperator": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Expected": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "additionalProperties": false,
                "properties": {
                  "AttributeValueList": {
                    "anyOf": [
                      {
                        "items": {
                          "$ref": "#/definitions/Union_1",
                        },
                        "type": "array",
                      },
                      {
                        "$ref": "#/definitions/Undefined_",
                      },
                    ],
                  },
                  "ComparisonOperator": {
                    "anyOf": [
                      {
                        "$ref": "#/definitions/String_1",
                      },
                      {
                        "$ref": "#/definitions/Undefined_",
                      },
                    ],
                  },
                  "Exists": {
                    "anyOf": [
                      {
                        "$ref": "#/definitions/Boolean_",
                      },
                      {
                        "$ref": "#/definitions/Undefined_",
                      },
                    ],
                  },
                  "Value": {
                    "anyOf": [
                      {
                        "$ref": "#/definitions/Union_1",
                      },
                      {
                        "$ref": "#/definitions/Undefined_",
                      },
                    ],
                  },
                },
                "type": "object",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ExpressionAttributeNames": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "$ref": "#/definitions/String_1",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ExpressionAttributeValues": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "$ref": "#/definitions/Union_1",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Item": {
      "additionalProperties": {
        "anyOf": [
          {
            "$ref": "#/definitions/Union_1",
          },
          {
            "$ref": "#/definitions/Undefined_",
          },
        ],
      },
      "type": "object",
    },
    "ReturnConsumedCapacity": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ReturnItemCollectionMetrics": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ReturnValues": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ReturnValuesOnConditionCheckFailure": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "TableName": {
      "type": "string",
    },
  },
  "required": [
    "TableName",
    "Item",
  ],
  "type": "object",
}
`;

exports[`JSON Schema Generation > Protocol-Specific Schemas > awsQuery (IAM, SNS) > GetUserResponse 1`] = `
{
  "additionalProperties": false,
  "properties": {
    "RequestItems": {
      "additionalProperties": {
        "anyOf": [
          {
            "additionalProperties": false,
            "properties": {
              "AttributesToGet": {
                "anyOf": [
                  {
                    "items": {
                      "$ref": "#/definitions/String_",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ConsistentRead": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Boolean_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ExpressionAttributeNames": {
                "anyOf": [
                  {
                    "additionalProperties": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/String_",
                        },
                        {
                          "$ref": "#/definitions/Undefined_",
                        },
                      ],
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Keys": {
                "items": {
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "$ref": "#/definitions/Union_2",
                      },
                      {
                        "$ref": "#/definitions/Undefined_",
                      },
                    ],
                  },
                  "type": "object",
                },
                "type": "array",
              },
              "ProjectionExpression": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "required": [
              "Keys",
            ],
            "type": "object",
          },
          {
            "$ref": "#/definitions/Undefined_",
          },
        ],
      },
      "type": "object",
    },
    "ReturnConsumedCapacity": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "required": [
    "RequestItems",
  ],
  "type": "object",
}
`;

exports[`JSON Schema Generation > Protocol-Specific Schemas > awsQuery (IAM, SNS) > GetUserResponse 2`] = `
{
  "additionalProperties": false,
  "properties": {
    "BypassPolicyLockoutSafetyCheck": {
      "anyOf": [
        {
          "$ref": "#/definitions/Boolean_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "CustomKeyStoreId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "CustomerMasterKeySpec": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Description": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "KeySpec": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "KeyUsage": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "MultiRegion": {
      "anyOf": [
        {
          "$ref": "#/definitions/Boolean_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Origin": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Policy": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Tags": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "TagKey": {
                "$ref": "#/definitions/String_",
              },
              "TagValue": {
                "$ref": "#/definitions/String_",
              },
            },
            "required": [
              "TagKey",
              "TagValue",
            ],
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "XksKeyId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "type": "object",
}
`;

exports[`JSON Schema Generation > Protocol-Specific Schemas > awsQuery (IAM, SNS) > GetUserResponse 3`] = `
{
  "additionalProperties": false,
  "properties": {
    "CiphertextBlob": {
      "$ref": "#/definitions/Blob",
    },
    "DryRun": {
      "anyOf": [
        {
          "type": "boolean",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "EncryptionAlgorithm": {
      "anyOf": [
        {
          "$ref": "#/definitions/Blob",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "EncryptionContext": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "$ref": "#/definitions/Blob",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "GrantTokens": {
      "anyOf": [
        {
          "items": {
            "$ref": "#/definitions/Blob",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "KeyId": {
      "anyOf": [
        {
          "$ref": "#/definitions/Blob",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Recipient": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "AttestationDocument": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Blob",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "KeyEncryptionAlgorithm": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Blob",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "required": [
    "CiphertextBlob",
  ],
  "type": "object",
}
`;

exports[`JSON Schema Generation > Protocol-Specific Schemas > awsQuery (IAM, SNS) > GetUserResponse 4`] = `
{
  "additionalProperties": false,
  "properties": {
    "Path": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "PermissionsBoundary": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Tags": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "Key": {
                "$ref": "#/definitions/String_",
              },
              "Value": {
                "$ref": "#/definitions/String_",
              },
            },
            "required": [
              "Key",
              "Value",
            ],
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "UserName": {
      "$ref": "#/definitions/String_",
    },
  },
  "required": [
    "UserName",
  ],
  "type": "object",
}
`;

exports[`JSON Schema Generation > Protocol-Specific Schemas > awsQuery (IAM, SNS) > GetUserResponse 5`] = `
{
  "additionalProperties": false,
  "properties": {
    "User": {
      "additionalProperties": false,
      "properties": {
        "Arn": {
          "$ref": "#/definitions/String_",
        },
        "CreateDate": {
          "$ref": "#/definitions/String_",
        },
        "PasswordLastUsed": {
          "anyOf": [
            {
              "$ref": "#/definitions/String_",
            },
            {
              "$ref": "#/definitions/Undefined_",
            },
          ],
        },
        "Path": {
          "$ref": "#/definitions/String_",
        },
        "PermissionsBoundary": {
          "anyOf": [
            {
              "additionalProperties": false,
              "properties": {
                "PermissionsBoundaryArn": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/String_",
                    },
                    {
                      "$ref": "#/definitions/Undefined_",
                    },
                  ],
                },
                "PermissionsBoundaryType": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/String_",
                    },
                    {
                      "$ref": "#/definitions/Undefined_",
                    },
                  ],
                },
              },
              "type": "object",
            },
            {
              "$ref": "#/definitions/Undefined_",
            },
          ],
        },
        "Tags": {
          "anyOf": [
            {
              "items": {
                "additionalProperties": false,
                "properties": {
                  "Key": {
                    "$ref": "#/definitions/String_",
                  },
                  "Value": {
                    "$ref": "#/definitions/String_",
                  },
                },
                "required": [
                  "Key",
                  "Value",
                ],
                "type": "object",
              },
              "type": "array",
            },
            {
              "$ref": "#/definitions/Undefined_",
            },
          ],
        },
        "UserId": {
          "$ref": "#/definitions/String_",
        },
        "UserName": {
          "$ref": "#/definitions/String_",
        },
      },
      "required": [
        "Path",
        "UserName",
        "UserId",
        "Arn",
        "CreateDate",
      ],
      "type": "object",
    },
  },
  "required": [
    "User",
  ],
  "type": "object",
}
`;

exports[`JSON Schema Generation > Protocol-Specific Schemas > ec2Query (EC2) > TerminateInstancesRequest 1`] = `
{
  "additionalProperties": false,
  "properties": {
    "Message": {
      "$ref": "#/definitions/String_",
    },
    "MessageAttributes": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "additionalProperties": false,
                "properties": {
                  "BinaryValue": {
                    "anyOf": [
                      {
                        "$ref": "#/definitions/String_",
                      },
                      {
                        "$ref": "#/definitions/Undefined_",
                      },
                    ],
                  },
                  "DataType": {
                    "$ref": "#/definitions/String_",
                  },
                  "StringValue": {
                    "anyOf": [
                      {
                        "$ref": "#/definitions/String_",
                      },
                      {
                        "$ref": "#/definitions/Undefined_",
                      },
                    ],
                  },
                },
                "required": [
                  "DataType",
                ],
                "type": "object",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "MessageDeduplicationId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "MessageGroupId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "MessageStructure": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "PhoneNumber": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Subject": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "TargetArn": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "TopicArn": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "required": [
    "Message",
  ],
  "type": "object",
}
`;

exports[`JSON Schema Generation > Protocol-Specific Schemas > ec2Query (EC2) > TerminateInstancesRequest 2`] = `
{
  "additionalProperties": false,
  "properties": {
    "AttachedPolicies": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "PolicyArn": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "PolicyName": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "IsTruncated": {
      "anyOf": [
        {
          "type": "boolean",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Marker": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "type": "object",
}
`;

exports[`JSON Schema Generation > Protocol-Specific Schemas > ec2Query (EC2) > TerminateInstancesRequest 3`] = `
{
  "additionalProperties": false,
  "properties": {
    "DryRun": {
      "anyOf": [
        {
          "type": "boolean",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Filters": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "Name": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_1",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Values": {
                "anyOf": [
                  {
                    "items": {
                      "type": "string",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "InstanceIds": {
      "anyOf": [
        {
          "items": {
            "type": "string",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "MaxResults": {
      "anyOf": [
        {
          "anyOf": [
            {
              "type": "number",
            },
            {
              "enum": [
                "NaN",
              ],
              "type": "string",
            },
            {
              "enum": [
                "Infinity",
              ],
              "type": "string",
            },
            {
              "enum": [
                "-Infinity",
              ],
              "type": "string",
            },
          ],
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "NextToken": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "type": "object",
}
`;

exports[`JSON Schema Generation > Protocol-Specific Schemas > ec2Query (EC2) > TerminateInstancesRequest 4`] = `
{
  "additionalProperties": false,
  "properties": {
    "AdditionalInfo": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "BlockDeviceMappings": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "DeviceName": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Ebs": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "AvailabilityZone": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "AvailabilityZoneId": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "DeleteOnTermination": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Boolean_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "Encrypted": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Boolean_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "Iops": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Number_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "KmsKeyId": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "OutpostArn": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "SnapshotId": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "Throughput": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Number_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "VolumeInitializationRate": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Number_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "VolumeSize": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Number_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "VolumeType": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "NoDevice": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "VirtualName": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "CapacityReservationSpecification": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "CapacityReservationPreference": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "CapacityReservationTarget": {
              "anyOf": [
                {
                  "additionalProperties": false,
                  "properties": {
                    "CapacityReservationId": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/String_",
                        },
                        {
                          "$ref": "#/definitions/Undefined_",
                        },
                      ],
                    },
                    "CapacityReservationResourceGroupArn": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/String_",
                        },
                        {
                          "$ref": "#/definitions/Undefined_",
                        },
                      ],
                    },
                  },
                  "type": "object",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ClientToken": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "CpuOptions": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "AmdSevSnp": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "CoreCount": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Number_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "ThreadsPerCore": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Number_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "CreditSpecification": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "CpuCredits": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "DisableApiStop": {
      "anyOf": [
        {
          "$ref": "#/definitions/Boolean_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "DisableApiTermination": {
      "anyOf": [
        {
          "$ref": "#/definitions/Boolean_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "DryRun": {
      "anyOf": [
        {
          "$ref": "#/definitions/Boolean_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "EbsOptimized": {
      "anyOf": [
        {
          "$ref": "#/definitions/Boolean_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ElasticGpuSpecification": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "Type": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ElasticInferenceAccelerators": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "Count": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Number_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Type": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "EnablePrimaryIpv6": {
      "anyOf": [
        {
          "$ref": "#/definitions/Boolean_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "EnclaveOptions": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "Enabled": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Boolean_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "HibernationOptions": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "Configured": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Boolean_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "IamInstanceProfile": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "Arn": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "Name": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ImageId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "InstanceInitiatedShutdownBehavior": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "InstanceMarketOptions": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "MarketType": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "SpotOptions": {
              "anyOf": [
                {
                  "additionalProperties": false,
                  "properties": {
                    "BlockDurationMinutes": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/Number_",
                        },
                        {
                          "$ref": "#/definitions/Undefined_",
                        },
                      ],
                    },
                    "InstanceInterruptionBehavior": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/String_",
                        },
                        {
                          "$ref": "#/definitions/Undefined_",
                        },
                      ],
                    },
                    "MaxPrice": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/String_",
                        },
                        {
                          "$ref": "#/definitions/Undefined_",
                        },
                      ],
                    },
                    "SpotInstanceType": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/String_",
                        },
                        {
                          "$ref": "#/definitions/Undefined_",
                        },
                      ],
                    },
                    "ValidUntil": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/String_",
                        },
                        {
                          "$ref": "#/definitions/Undefined_",
                        },
                      ],
                    },
                  },
                  "type": "object",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "InstanceType": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Ipv6AddressCount": {
      "anyOf": [
        {
          "$ref": "#/definitions/Number_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Ipv6Addresses": {
      "anyOf": [
        {
          "$ref": "#/definitions/Arrays_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "KernelId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "KeyName": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "LaunchTemplate": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "LaunchTemplateId": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "LaunchTemplateName": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "Version": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "LicenseSpecifications": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "LicenseConfigurationArn": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "MaintenanceOptions": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "AutoRecovery": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "MaxCount": {
      "anyOf": [
        {
          "$ref": "#/definitions/Number_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "MetadataOptions": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "HttpEndpoint": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "HttpProtocolIpv6": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "HttpPutResponseHopLimit": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Number_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "HttpTokens": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "InstanceMetadataTags": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "MinCount": {
      "anyOf": [
        {
          "$ref": "#/definitions/Number_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Monitoring": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "Enabled": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Boolean_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "NetworkInterfaces": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "AssociateCarrierIpAddress": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Boolean_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "AssociatePublicIpAddress": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Boolean_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ConnectionTrackingSpecification": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "TcpEstablishedTimeout": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Number_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "UdpStreamTimeout": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Number_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "UdpTimeout": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Number_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "DeleteOnTermination": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Boolean_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Description": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "DeviceIndex": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Number_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "EnaQueueCount": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Number_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "EnaSrdSpecification": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "EnaSrdEnabled": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Boolean_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "EnaSrdUdpSpecification": {
                        "anyOf": [
                          {
                            "additionalProperties": false,
                            "properties": {
                              "EnaSrdUdpEnabled": {
                                "anyOf": [
                                  {
                                    "$ref": "#/definitions/Boolean_",
                                  },
                                  {
                                    "$ref": "#/definitions/Undefined_",
                                  },
                                ],
                              },
                            },
                            "type": "object",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Groups": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Arrays_2",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "InterfaceType": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Ipv4PrefixCount": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Number_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Ipv4Prefixes": {
                "anyOf": [
                  {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "Ipv4Prefix": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                      },
                      "type": "object",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Ipv6AddressCount": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Number_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Ipv6Addresses": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Arrays_1",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Ipv6PrefixCount": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Number_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Ipv6Prefixes": {
                "anyOf": [
                  {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "Ipv6Prefix": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                      },
                      "type": "object",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "NetworkCardIndex": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Number_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "NetworkInterfaceId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "PrimaryIpv6": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Boolean_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "PrivateIpAddress": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "PrivateIpAddresses": {
                "anyOf": [
                  {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "Primary": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/Boolean_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "PrivateIpAddress": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                      },
                      "type": "object",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "SecondaryPrivateIpAddressCount": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Number_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "SubnetId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "NetworkPerformanceOptions": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "BandwidthWeighting": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Operator": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "Principal": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Placement": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "Affinity": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "AvailabilityZone": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "AvailabilityZoneId": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "GroupId": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "GroupName": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "HostId": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "HostResourceGroupArn": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "PartitionNumber": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Number_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "SpreadDomain": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "Tenancy": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "PrivateDnsNameOptions": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "EnableResourceNameDnsAAAARecord": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Boolean_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "EnableResourceNameDnsARecord": {
              "anyOf": [
                {
                  "$ref": "#/definitions/Boolean_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "HostnameType": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "PrivateIpAddress": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "RamdiskId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "SecurityGroupIds": {
      "anyOf": [
        {
          "$ref": "#/definitions/Arrays_2",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "SecurityGroups": {
      "anyOf": [
        {
          "items": {
            "type": "string",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "SubnetId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "TagSpecifications": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "ResourceType": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Tags": {
                "anyOf": [
                  {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "Key": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "Value": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                      },
                      "type": "object",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "UserData": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "type": "object",
}
`;

exports[`JSON Schema Generation > Protocol-Specific Schemas > ec2Query (EC2) > TerminateInstancesRequest 5`] = `
{
  "additionalProperties": false,
  "properties": {
    "DryRun": {
      "anyOf": [
        {
          "$ref": "#/definitions/Boolean_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Force": {
      "anyOf": [
        {
          "$ref": "#/definitions/Boolean_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "InstanceIds": {
      "anyOf": [
        {
          "items": {
            "type": "string",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "SkipOsShutdown": {
      "anyOf": [
        {
          "$ref": "#/definitions/Boolean_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "type": "object",
}
`;

exports[`JSON Schema Generation > Protocol-Specific Schemas > restXml (S3) > DeleteObjectRequest 1`] = `
{
  "additionalProperties": false,
  "properties": {
    "Arn": {
      "$ref": "#/definitions/String_",
    },
    "CreateDate": {
      "$ref": "#/definitions/String_",
    },
    "PasswordLastUsed": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Path": {
      "$ref": "#/definitions/String_",
    },
    "PermissionsBoundary": {
      "anyOf": [
        {
          "additionalProperties": false,
          "properties": {
            "PermissionsBoundaryArn": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
            "PermissionsBoundaryType": {
              "anyOf": [
                {
                  "$ref": "#/definitions/String_",
                },
                {
                  "$ref": "#/definitions/Undefined_",
                },
              ],
            },
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Tags": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "Key": {
                "$ref": "#/definitions/String_",
              },
              "Value": {
                "$ref": "#/definitions/String_",
              },
            },
            "required": [
              "Key",
              "Value",
            ],
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "UserId": {
      "$ref": "#/definitions/String_",
    },
    "UserName": {
      "$ref": "#/definitions/String_",
    },
  },
  "required": [
    "Path",
    "UserName",
    "UserId",
    "Arn",
    "CreateDate",
  ],
  "type": "object",
}
`;

exports[`JSON Schema Generation > Protocol-Specific Schemas > restXml (S3) > DeleteObjectRequest 2`] = `
{
  "additionalProperties": false,
  "properties": {
    "FunctionName": {
      "type": "string",
    },
    "Qualifier": {
      "anyOf": [
        {
          "type": "string",
        },
        {
          "type": "null",
        },
      ],
    },
  },
  "required": [
    "FunctionName",
  ],
  "type": "object",
}
`;

exports[`JSON Schema Generation > Protocol-Specific Schemas > restXml (S3) > DeleteObjectRequest 3`] = `
{
  "additionalProperties": false,
  "properties": {
    "Functions": {
      "anyOf": [
        {
          "items": {
            "additionalProperties": false,
            "properties": {
              "Architectures": {
                "anyOf": [
                  {
                    "items": {
                      "$ref": "#/definitions/String_",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "CapacityProviderConfig": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "LambdaManagedInstancesCapacityProviderConfig": {
                        "additionalProperties": false,
                        "properties": {
                          "CapacityProviderArn": {
                            "$ref": "#/definitions/String_",
                          },
                          "ExecutionEnvironmentMemoryGiBPerVCpu": {
                            "anyOf": [
                              {
                                "$ref": "#/definitions/Number_",
                              },
                              {
                                "$ref": "#/definitions/Undefined_",
                              },
                            ],
                          },
                          "PerExecutionEnvironmentMaxConcurrency": {
                            "anyOf": [
                              {
                                "$ref": "#/definitions/Number_",
                              },
                              {
                                "$ref": "#/definitions/Undefined_",
                              },
                            ],
                          },
                        },
                        "required": [
                          "CapacityProviderArn",
                        ],
                        "type": "object",
                      },
                    },
                    "required": [
                      "LambdaManagedInstancesCapacityProviderConfig",
                    ],
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "CodeSha256": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "CodeSize": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Number_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ConfigSha256": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "DeadLetterConfig": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "TargetArn": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Description": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "DurableConfig": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "ExecutionTimeout": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Number_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "RetentionPeriodInDays": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/Number_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Environment": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "Error": {
                        "anyOf": [
                          {
                            "additionalProperties": false,
                            "properties": {
                              "ErrorCode": {
                                "anyOf": [
                                  {
                                    "$ref": "#/definitions/String_",
                                  },
                                  {
                                    "$ref": "#/definitions/Undefined_",
                                  },
                                ],
                              },
                              "Message": {
                                "anyOf": [
                                  {
                                    "$ref": "#/definitions/String_",
                                  },
                                  {
                                    "$ref": "#/definitions/Undefined_",
                                  },
                                ],
                              },
                            },
                            "type": "object",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "Variables": {
                        "anyOf": [
                          {
                            "additionalProperties": {
                              "anyOf": [
                                {
                                  "$ref": "#/definitions/String_",
                                },
                                {
                                  "$ref": "#/definitions/Undefined_",
                                },
                              ],
                            },
                            "type": "object",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "EphemeralStorage": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "Size": {
                        "$ref": "#/definitions/Number_",
                      },
                    },
                    "required": [
                      "Size",
                    ],
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "FileSystemConfigs": {
                "anyOf": [
                  {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "Arn": {
                          "$ref": "#/definitions/String_",
                        },
                        "LocalMountPath": {
                          "$ref": "#/definitions/String_",
                        },
                      },
                      "required": [
                        "Arn",
                        "LocalMountPath",
                      ],
                      "type": "object",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "FunctionArn": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "FunctionName": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Handler": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "ImageConfigResponse": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "Error": {
                        "anyOf": [
                          {
                            "additionalProperties": false,
                            "properties": {
                              "ErrorCode": {
                                "anyOf": [
                                  {
                                    "$ref": "#/definitions/String_",
                                  },
                                  {
                                    "$ref": "#/definitions/Undefined_",
                                  },
                                ],
                              },
                              "Message": {
                                "anyOf": [
                                  {
                                    "$ref": "#/definitions/String_",
                                  },
                                  {
                                    "$ref": "#/definitions/Undefined_",
                                  },
                                ],
                              },
                            },
                            "type": "object",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "ImageConfig": {
                        "anyOf": [
                          {
                            "additionalProperties": false,
                            "properties": {
                              "Command": {
                                "anyOf": [
                                  {
                                    "$ref": "#/definitions/Arrays_5",
                                  },
                                  {
                                    "$ref": "#/definitions/Undefined_",
                                  },
                                ],
                              },
                              "EntryPoint": {
                                "anyOf": [
                                  {
                                    "$ref": "#/definitions/Arrays_5",
                                  },
                                  {
                                    "$ref": "#/definitions/Undefined_",
                                  },
                                ],
                              },
                              "WorkingDirectory": {
                                "anyOf": [
                                  {
                                    "$ref": "#/definitions/String_",
                                  },
                                  {
                                    "$ref": "#/definitions/Undefined_",
                                  },
                                ],
                              },
                            },
                            "type": "object",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "KMSKeyArn": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "LastModified": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "LastUpdateStatus": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "LastUpdateStatusReason": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "LastUpdateStatusReasonCode": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Layers": {
                "anyOf": [
                  {
                    "items": {
                      "additionalProperties": false,
                      "properties": {
                        "Arn": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "CodeSize": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/Number_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "SigningJobArn": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                        "SigningProfileVersionArn": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/String_",
                            },
                            {
                              "$ref": "#/definitions/Undefined_",
                            },
                          ],
                        },
                      },
                      "type": "object",
                    },
                    "type": "array",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "LoggingConfig": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "ApplicationLogLevel": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "LogFormat": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "LogGroup": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "SystemLogLevel": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "MasterArn": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "MemorySize": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Number_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "PackageType": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "RevisionId": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Role": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Runtime": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "RuntimeVersionConfig": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "Error": {
                        "anyOf": [
                          {
                            "additionalProperties": false,
                            "properties": {
                              "ErrorCode": {
                                "anyOf": [
                                  {
                                    "$ref": "#/definitions/String_",
                                  },
                                  {
                                    "$ref": "#/definitions/Undefined_",
                                  },
                                ],
                              },
                              "Message": {
                                "anyOf": [
                                  {
                                    "$ref": "#/definitions/String_",
                                  },
                                  {
                                    "$ref": "#/definitions/Undefined_",
                                  },
                                ],
                              },
                            },
                            "type": "object",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "RuntimeVersionArn": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "SigningJobArn": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "SigningProfileVersionArn": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "SnapStart": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "ApplyOn": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "OptimizationStatus": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "State": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "StateReason": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "StateReasonCode": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "TenancyConfig": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "TenantIsolationMode": {
                        "$ref": "#/definitions/String_",
                      },
                    },
                    "required": [
                      "TenantIsolationMode",
                    ],
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Timeout": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Number_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "TracingConfig": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "Mode": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "Version": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/String_",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
              "VpcConfig": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "Ipv6AllowedForDualStack": {
                        "anyOf": [
                          {
                            "type": "boolean",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "SecurityGroupIds": {
                        "anyOf": [
                          {
                            "items": {
                              "$ref": "#/definitions/String_",
                            },
                            "type": "array",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "SubnetIds": {
                        "anyOf": [
                          {
                            "items": {
                              "$ref": "#/definitions/String_",
                            },
                            "type": "array",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                      "VpcId": {
                        "anyOf": [
                          {
                            "$ref": "#/definitions/String_",
                          },
                          {
                            "$ref": "#/definitions/Undefined_",
                          },
                        ],
                      },
                    },
                    "type": "object",
                  },
                  {
                    "$ref": "#/definitions/Undefined_",
                  },
                ],
              },
            },
            "type": "object",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "NextMarker": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "type": "object",
}
`;

exports[`JSON Schema Generation > Protocol-Specific Schemas > restXml (S3) > DeleteObjectRequest 4`] = `
{
  "additionalProperties": false,
  "properties": {
    "Bucket": {
      "type": "string",
    },
    "ChecksumMode": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ExpectedBucketOwner": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "IfMatch": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "IfModifiedSince": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "IfNoneMatch": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "IfUnmodifiedSince": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Key": {
      "type": "string",
    },
    "PartNumber": {
      "anyOf": [
        {
          "anyOf": [
            {
              "type": "number",
            },
            {
              "enum": [
                "NaN",
              ],
              "type": "string",
            },
            {
              "enum": [
                "Infinity",
              ],
              "type": "string",
            },
            {
              "enum": [
                "-Infinity",
              ],
              "type": "string",
            },
          ],
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Range": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "RequestPayer": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ResponseCacheControl": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ResponseContentDisposition": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ResponseContentEncoding": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ResponseContentLanguage": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ResponseContentType": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ResponseExpires": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "SSECustomerAlgorithm": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "SSECustomerKey": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "SSECustomerKeyMD5": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "VersionId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "required": [
    "Bucket",
    "Key",
  ],
  "type": "object",
}
`;

exports[`JSON Schema Generation > Protocol-Specific Schemas > restXml (S3) > DeleteObjectRequest 5`] = `
{
  "additionalProperties": false,
  "properties": {
    "Bucket": {
      "type": "string",
    },
    "BypassGovernanceRetention": {
      "anyOf": [
        {
          "type": "boolean",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ExpectedBucketOwner": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_2",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "IfMatch": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_2",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "IfMatchLastModifiedTime": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_2",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "IfMatchSize": {
      "anyOf": [
        {
          "anyOf": [
            {
              "type": "number",
            },
            {
              "enum": [
                "NaN",
              ],
              "type": "string",
            },
            {
              "enum": [
                "Infinity",
              ],
              "type": "string",
            },
            {
              "enum": [
                "-Infinity",
              ],
              "type": "string",
            },
          ],
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Key": {
      "type": "string",
    },
    "MFA": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_2",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "RequestPayer": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_2",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "VersionId": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_2",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "required": [
    "Bucket",
    "Key",
  ],
  "type": "object",
}
`;

exports[`JSON Schema Generation > Suspended Struct Schemas > GetItemInput - operation input with traits 1`] = `
{
  "additionalProperties": false,
  "properties": {
    "UserName": {
      "anyOf": [
        {
          "type": "string",
        },
        {
          "type": "null",
        },
      ],
    },
  },
  "type": "object",
}
`;

exports[`JSON Schema Generation > Suspended Struct Schemas > GetItemInput - operation input with traits 2`] = `
{
  "additionalProperties": false,
  "properties": {
    "FunctionVersion": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Marker": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "MasterRegion": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "MaxItems": {
      "anyOf": [
        {
          "anyOf": [
            {
              "type": "number",
            },
            {
              "enum": [
                "NaN",
              ],
              "type": "string",
            },
            {
              "enum": [
                "Infinity",
              ],
              "type": "string",
            },
            {
              "enum": [
                "-Infinity",
              ],
              "type": "string",
            },
          ],
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "type": "object",
}
`;

exports[`JSON Schema Generation > Suspended Struct Schemas > GetItemInput - operation input with traits 3`] = `
{
  "additionalProperties": false,
  "properties": {
    "DryRun": {
      "anyOf": [
        {
          "type": "boolean",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "EncryptionAlgorithm": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "EncryptionContext": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "$ref": "#/definitions/String_",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "GrantTokens": {
      "anyOf": [
        {
          "items": {
            "$ref": "#/definitions/String_",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "KeyId": {
      "$ref": "#/definitions/String_",
    },
    "Plaintext": {
      "$ref": "#/definitions/String_",
    },
  },
  "required": [
    "KeyId",
    "Plaintext",
  ],
  "type": "object",
}
`;

exports[`JSON Schema Generation > Suspended Struct Schemas > GetItemInput - operation input with traits 4`] = `
{
  "additionalProperties": false,
  "properties": {
    "BinaryValue": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "DataType": {
      "$ref": "#/definitions/String_",
    },
    "StringValue": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
  },
  "required": [
    "DataType",
  ],
  "type": "object",
}
`;

exports[`JSON Schema Generation > Suspended Struct Schemas > GetItemInput - operation input with traits 5`] = `
{
  "additionalProperties": false,
  "properties": {
    "AttributesToGet": {
      "anyOf": [
        {
          "items": {
            "$ref": "#/definitions/String_1",
          },
          "type": "array",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ConsistentRead": {
      "anyOf": [
        {
          "$ref": "#/definitions/Boolean_",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ExpressionAttributeNames": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "$ref": "#/definitions/String_1",
              },
              {
                "$ref": "#/definitions/Undefined_",
              },
            ],
          },
          "type": "object",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "Key": {
      "additionalProperties": {
        "anyOf": [
          {
            "$ref": "#/definitions/Union_1",
          },
          {
            "$ref": "#/definitions/Undefined_",
          },
        ],
      },
      "type": "object",
    },
    "ProjectionExpression": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "ReturnConsumedCapacity": {
      "anyOf": [
        {
          "$ref": "#/definitions/String_1",
        },
        {
          "$ref": "#/definitions/Undefined_",
        },
      ],
    },
    "TableName": {
      "type": "string",
    },
  },
  "required": [
    "TableName",
    "Key",
  ],
  "type": "object",
}
`;
